<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title></title>
    <meta name="description" content="">
    <meta name="HandheldFriendly" content="True">
    <meta name="MobileOptimized" content="320">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta http-equiv="cleartype" content="on">

    <link rel="stylesheet" type="text/css" href="/build/controller.css">
</head>
<body>

<div id="register-screen">
    <form id="gamecode">
        <input type="number" value="" placeholder="enter a game number">
        <input type="submit" value="Connect!">
    </form>
</div>
<div id="controller">
    <div id="left">
        <div id="stick-container">
            <div id="stick" data-input-id="joystick"></div>
        </div>
    </div>
    <div id="center">
        <div class="button" data-input-id="center-1">
            <div class="content">
                1
            </div>
        </div>
        <div class="button" data-input-id="center-2">
            <div class="content">
                2
            </div>
        </div>
        <div class="button" data-input-id="center-3">
            <div class="content">
                3
            </div>
        </div>
        <div class="button" data-input-id="center-4">
            <div class="content">
                4
            </div>
        </div>
    </div>
    <div id="right">
        <div class="top container">
            <div class="slant-container container">

                <div class="slant slant-top button">
                    <div class="content" data-input-id="right-top-1">
                        1
                    </div>
                </div>
                <div class="slant slant-bottom button">
                    <div class="content" data-input-id="right-top-2">
                        2
                    </div>
                </div>

            </div>

            <div class="left button" data-input-id="right-top-3">
                3
            </div>
            <div class="right button" data-input-id="right-top-4">
                4
            </div>

        </div>
        <div class="middle container">
            <div id="slider-background">
                <div id="slider" data-input-id="slider"></div>
            </div>
        </div>
        <div class="bottom container">
            <div class="slant-container container">

                <div class="slant slant-top button">
                    <div class="content" data-input-id="right-bottom-1">
                        1
                    </div>
                </div>
                <div class="slant slant-bottom button">
                    <div class="content" data-input-id="right-bottom-2">
                        2
                    </div>
                </div>

            </div>

            <div class="left button" data-input-id="right-bottom-3">
                3
            </div>
            <div class="right button" data-input-id="right-bottom-4">
                4
            </div>
        </div>
    </div>

</div>
<script src="/build/jquery.min.js"></script>
<!--<script src="https://cdn.socket.io/socket.io-1.1.0.js"></script>-->
<!--<script src="socket.io-1.1.0.js"></script>-->
<!--<script src="//cdnjs.cloudflare.com/ajax/libs/phaser/2.1.3/phaser.min.js"></script>-->
<script src="/build/phaser.min.js"></script>
<script src="/build/controller.js"></script>

<script>
    // handle horizontal alignment of slanted divs
    var slantTops = $('.slant-top');
    var slantBottoms = $('.slant-bottom');

    function alignSlants() {
        var slantTransform = slantTops.first().css('transform');
        var skewRadians = slantTransform.split(', ')[2];
        var height = slantTops.first().height();
        var requiredOffset = skewRadians * height;
        var newTransformTop = slantTransform.split(', ');
        var newTransformBottom = slantTransform.split(', ');

        newTransformTop[4] = -(requiredOffset / 2);
        newTransformBottom[4] = requiredOffset / 2;

        slantTops.css('transform', newTransformTop.join(', '));
        slantBottoms.css('transform', newTransformBottom.join(', '));
    }

    alignSlants();

    $( window ).resize(function() {
        alignSlants();
    });
</script>
</body>
</html>
